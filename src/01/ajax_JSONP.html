<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsonp解决跨域问题</title>
    <link rel="stylesheet" href="./ajax.css">
</head>

<body>
    <h3>jsonp解决跨域问题</h3>
    <p>[-------]</p>
    <button id="btn01">点击</button><br><br>
</body>

</html>

<script>

    const btn01 = document.getElementById('btn01');
    // 准备一个函数用来获取数据的

    // 点击按钮调用服务端的代码(在前端创建一个script利用src是get方法获取后端代码)
    btn01.onclick = () => {
        let scriptNode = document.createElement('script');
        scriptNode.src = 'http://127.0.0.1:8080/test_jsonp';
        document.body.appendChild(scriptNode);
        window.demo = (data) => {
            console.log(data[0]);
            console.log(data[1]);
        }
    }
</script>
<!-- <script src="http://127.0.0.1:8080/test_jsonp"></script> -->